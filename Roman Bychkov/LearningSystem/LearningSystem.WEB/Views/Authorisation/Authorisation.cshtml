@using LearningSystem.WEB.ValidationModels
@model RegistrationModel
@{
    ViewData["Title"] = "Авторизація";
}
@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger" style="position: absolute">
        <hr>
        <ul>
            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <li>@error.ErrorMessage</li>
            }
        </ul>
    </div>
}
<div id="log-reg" class="btn btn-primary">Регістрація</div>
<div id="registration" >

                <form id="FormRegistration" action="/Authorisation/Authorisation" method="post">
                    <div>
                        <label asp-for="Email" class="form-label">Електрона скринька</label>
                        <input type="email" asp-for="Email" class="form-control" aria-describedby="emailHelp">
                        <span asp-validation-for="Email" style="color: red"/>
                        <div id="emailHelp" class="form-text">Ми не передаємо третім особам ваші дані!</div>
                    </div>
                    <div class="mb-3">
                        <label asp-for="UserName" class="form-label">Логін</label>
                        <input asp-for="UserName" type="text" minlength="3" required class="form-control">
                        <span asp-validation-for="UserName" style="color: red"/>
                    </div>
                    <div class="mb-3">
                        <label asp-for="Password" class="form-label">Пароль</label>
                        <input asp-for="Password" type="password" required  class="form-control" >
                        <span asp-validation-for="Password" style="color: red"/>
                    </div>
                    <div class="mb-3">
                        <label asp-for="ConfirmPassword" class="form-label">Повторіть пароль</label>
                        <input asp-for="ConfirmPassword" required type="password"  class="form-control">
                         <span asp-validation-for="ConfirmPassword" style="color: red"/>
                    </div>
                    <button type="submit" class="btn btn-primary">Зареєструватися</button>
                </form>
                 <form id="FormLogin" action="/Authorisation/Login" method="post">
                   <div class="mb-3">
                        <label asp-for="UserName" class="form-label">Логін</label>
                        <input asp-for="UserName" type="text" minlength="3" required class="form-control" id="name">
                        </div>
                    <div class="mb-3">
                        <label asp-for="Password" class="form-label">Пароль</label>
                        <input asp-for="Password" type="password" required class="form-control">
                    </div>
                    <button type="submit" class="btn btn-primary">Увійти</button>
                </form>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.17.0/jquery.validate.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.validation.unobtrusive/3.2.10/jquery.validate.unobtrusive.min.js"></script>
<script src="~/js/authorisation.js"></script>
</div>

   <script>document.getElementById('container').classList.remove('container'); </script>
@{
        if(Model?.Email is not null)
        {
             <script>
                 document.getElementById('log-reg').innerText='Вхід';
                 document.getElementById('FormRegistration').style.visibility = "visible";
                 document.getElementById('FormLogin').style.visibility = "hidden";      
             </script>
        }
}


